
<div class="detalle-receta">
  <h2 class="titulo-receta">{{ receta?.nombre_receta }}</h2>
  <!-- Botón de Me Gusta -->
  <div class="acciones-receta">
    <button
      class="btn-like"
      [class.liked]="leGusta"
      (click)="toggleLike()"
      [disabled]="!usuarioActualId"
      title="Da like a esta receta">
      ❤️ {{ leGusta ? 'Te gusta' : 'Me gusta' }}
    </button>
    <span class="contador-likes">
      {{ receta?.me_gusta || 0 }} {{ receta?.me_gusta === 1 ? 'like' : 'likes' }}
    </span>
  </div>

  <p class="descripcion">{{ receta?.descripcion }}</p>

  <img *ngIf="receta?.imagen" [src]="'data:image/jpeg;base64,' + receta.imagen" class="imagen-receta" alt="Imagen receta">

  <section class="paso-a-paso">
    <h3>PASO A PASO</h3>
    <p>{{ receta?.pasos }}</p>
  </section>

  <div class="info-extra">
    <div class="autor">
      <h4>AUTOR/RA</h4>
      <div class="autor-info">
        <div class="avatar"></div>
        <span>{{ receta?.nombre_usuario }}</span>
      </div>
    </div>

    <div class="ingredientes">
      <h4>INGREDIENTES</h4>
      <ul>
        <li *ngFor="let ingrediente of receta?.ingredientes">{{ ingrediente }}</li>
      </ul>
    </div>

    <div class="categoria">
      <h4>CATEGORÍA</h4>
      <p>{{ receta?.nombre_categoria }}</p>
    </div>
  </div>

  <section class="comentarios">
    <h3>COMENTARIOS</h3>
    <!-- Espacio reservado -->
    <!-- <app-comentario-list [idReceta]="receta?.id_receta" [usuarioActualId]="usuarioActualId"></app-comentario-list> -->
    <app-comentario-list
      [idReceta]="receta?.id_receta"
      (comentarioEliminado)="manejarComentarioActualizado()"
      (comentarioEditado)="manejarComentarioActualizado()">
    </app-comentario-list>
  </section>
</div>
